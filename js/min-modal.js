let linkPopap=document.querySelector(".link-popap");let modal=document.querySelector(".modal");let modalOverlay=document.querySelector(".modal-overlay");let modalClose=modal.querySelector(".modal-close");let feedbackForm=modal.querySelector(".feedback-form");let userName=modal.querySelector("#user-name");let userEmail=modal.querySelector("#user-email");let userMessage=modal.querySelector("#user-message");let isStorageSupport=true;storageUserName="";storageUserEmail="";storageUserMessage="";try{storageUserName=localStorage.getItem(userName);storageUserEmail=localStorage.getItem(userEmail)}catch(err){isStorageSupport=false}linkPopap.onclick=function(a){a.preventDefault();modal.classList.add("modal-show");modalOverlay.classList.add("modal-show");if(storageUserName&&storageUserEmail){userName.value=storageUserName;userEmail.value=storageUserEmail;userMessage.focus()}else{if(storageUserName&&!storageUserEmail){userName.value=storageUserName;userEmail.focus()}else{if(!storageUserName&&storageUserEmail){userEmail.value=storageUserName;userName.focus()}else{userName.focus()}}}};modalClose.onclick=function(a){a.preventDefault();modal.classList.remove("modal-show");modal.classList.remove("modal-error");modalOverlay.classList.remove("modal-show")};window.onkeydown=function(a){if(modal.classList.contains("modal-show")&&a.keyCode===27){a.preventDefault();modal.classList.remove("modal-show");modal.classList.remove("modal-error");modalOverlay.classList.remove("modal-show")}};feedbackForm.onsubmit=function(a){if(!userName.value||!userEmail.value||!userMessage.value){a.preventDefault();modal.classList.remove("modal-error");modal.offsetWidth=modal.offsetWidth;modal.classList.add("modal-error")}else{if(isStorageSupport){localStorage.setItem("userName",userName.value);localStorage.setItem("userEmail",userEmail.value)}}};